(window.webpackJsonpfront=window.webpackJsonpfront||[]).push([[0],{20:function(e,t,n){e.exports=n(36)},25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),l=n.n(i),o=n(37),s=n(8),c=n(2),u=n(3),m=n(5),p=n(4),h=n(6),d=(n(25),n(26),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).clicked=function(){n.props.history.push("/cupitip/"+n.props.tip._id)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tipInList container-flex disable-select",onClick:this.clicked.bind(this)},r.a.createElement("div",{className:"row tipTitle"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("div",{className:"numeroNivel mx-auto"},r.a.createElement("div",{className:"txtNumeroNivel"},"N"+this.props.tip.nivel))),r.a.createElement("div",{className:"col-sm-10 text-left my-auto txtNombre"},r.a.createElement("div",{className:"row"},this.props.tip.nombre))),r.a.createElement("div",{className:"row container-fluid tags"},r.a.createElement("label",{className:"tema col-sm-7"},r.a.createElement("strong",null,"Tema:")," ",this.props.tip.tema),r.a.createElement("label",{className:"likes col-sm-2"},this.props.tip.likes," ",r.a.createElement("i",{class:"fas fa-star"})," ")))}}]),t}(a.Component)),v=Object(o.d)(d),f=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.showFilter()}},{key:"renderCols",value:function(e,t){for(var n="col-sm-"+12/e.length+" text-center",a=[],i=0;i<e.length;i++)a.push(r.a.createElement("div",{className:n,key:"col"+i},t(e[i])));return a}},{key:"renderElems",value:function(e){return e.map((function(e){return r.a.createElement(v,{key:"TipInList"+e._id,tip:e})}))}},{key:"render",value:function(){var e=window.innerWidth,t=1;e>=768&&t++,e>=1200&&t++;for(var n=[],a=0;a<t;a++)n.push([]);for(var i=0;i<this.props.tips.length;i++)n[i%t].push(this.props.tips[i]);return r.a.createElement("div",{className:"container-fluid",id:"tipList"},r.a.createElement("div",{className:"row"},this.renderCols(n,this.renderElems)))}}]),t}(a.Component),b=Object(o.d)(f),E=(n(32),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).clickAuth=function(){n.props.history.push("/Auth")},n.clickOut=function(){n.props.handleAuthentication(!1,void 0)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderFiltrar",value:function(e){if(e)return r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"collapse","data-target":"#collapseFilters","aria-expanded":"false","aria-controls":"collapseFilters"},"Filtrar")}},{key:"renderNivel",value:function(e){var t=this;if(!0===e.estado){return r.a.createElement("div",{key:"NivButt"+e.nombre,className:"btn btnnivel btn-primary",onClick:function(){for(var n=t.props.filtros,a=0;a<n.nivel.length;a++)n.nivel[a].nombre===e.nombre&&(n.nivel[a].estado=!1);t.props.actualizarFiltros(n)}},"Nivel ",e.nombre)}return r.a.createElement("div",{key:"NivButtF"+e.nombre,className:"btn btnnivel btn-outline-primary",onClick:function(){for(var n=t.props.filtros,a=0;a<n.nivel.length;a++)n.nivel[a].nombre===e.nombre&&(n.nivel[a].estado=!0);t.props.actualizarFiltros(n)}},"Nivel ",e.nombre)}},{key:"renderNiveles",value:function(e){var t=this;if(void 0!==e)return e.map((function(e){return t.renderNivel(e)}))}},{key:"actualizarNombre",value:function(e){var t=this.props.filtros;t.nombre=e.target.value,this.props.actualizarFiltros(t)}},{key:"actualizarTema",value:function(e){var t=this.props.filtros;t.tema=e.target.value,this.props.actualizarFiltros(t)}},{key:"renderNombre",value:function(){var e="";return void 0!==this.props.filtros.nombre&&(e=this.props.filtros.nombre),r.a.createElement("div",{className:"nombreRw row"},r.a.createElement("div",{className:"col-sm-2 text-center my-auto nombreStr"},"Name:"),r.a.createElement("div",{className:"col-sm-10 text-left"},r.a.createElement("input",{type:"text",value:e,onChange:this.actualizarNombre.bind(this)})))}},{key:"renderTema",value:function(){var e="";return void 0!==this.props.filtros.tema&&(e=this.props.filtros.tema),r.a.createElement("div",{className:"nombreRw row"},r.a.createElement("div",{className:"col-sm-2 text-center my-auto nombreStr"},"Tema:"),r.a.createElement("div",{className:"col-sm-10 text-left"},r.a.createElement("input",{type:"text",value:e,onChange:this.actualizarTema.bind(this)})))}},{key:"renderFilters",value:function(e){if(e){var t=[],n=[];if(void 0!==this.props.filtros.nivel)for(var a=0;a<this.props.filtros.nivel.length;a++)a%2===0?t.push(this.props.filtros.nivel[a]):n.push(this.props.filtros.nivel[a]);return r.a.createElement("div",{className:"collapse",id:"collapseFilters"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-sm-3 text-center"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-sm-4 mx-auto"},this.renderNiveles(t)),r.a.createElement("div",{className:"col-sm-4 mx-auto"},this.renderNiveles(n)))),r.a.createElement("div",{className:"col-sm-6 text-center"},this.renderNombre()," ",this.renderTema()),r.a.createElement("div",{className:"col-sm-3 text-center"})))}}},{key:"renderLoginButton",value:function(e){return e?r.a.createElement("button",{type:"button",onClick:this.clickOut,className:"btn btn-primary"},this.props.username+"|Salir"):r.a.createElement("button",{type:"button",onClick:this.clickAuth,className:"btn btn-primary"},"Ingresar")}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"topnav",id:"navBar"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4 text-right"},r.a.createElement("a",{href:"/",className:"text-right"},r.a.createElement("img",{className:"logo",src:"/images/logo_disc.png",alt:"disc"}))),r.a.createElement("div",{className:"col-sm-4 text-center my-auto",id:"colCenter"},this.renderFiltrar(this.props.show)),r.a.createElement("div",{className:"col-sm-1"}),r.a.createElement("div",{className:"col-sm-3 text-center my-auto"},this.renderLoginButton(this.props.autenticado))),this.renderFilters(this.props.show))))}}]),t}(a.Component)),y=Object(o.d)(E),N=n(10),k=(n(33),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).click=function(){n.props.history.push("/")},n.findTip=function(e){for(var t=n.props.tips,a=0;a<t.length;a++)if(t[a]._id===e)return t[a]},n.clickBack=function(){n.props.history.push("/")},n.sendComment=function(){var e={};e._id=n.props.match.params.id,e.comentario=n.comentario.current.value,console.log(JSON.stringify(e)),fetch("comment",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.result.n>0?alert("Tu comentario ha sido enviado correctamente."):alert("Ha ocurrido un error y tu comentario no pudo ser enviado.")}))},n.sendLike=function(){var e={};e._id=n.props.match.params.id,console.log(JSON.stringify(e)),fetch("like",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.result.n>0?n.props.actualizarTips():alert("Ha ocurrido un error y tu like no pudo ser enviado.")}))},n.props.hideFilter(),n.comentario=r.a.createRef(),n.sendComment=n.sendComment.bind(Object(N.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.findTip(this.props.match.params.id);return null!=e?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.clickBack},"Back"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.sendLike},"Like"),r.a.createElement("h2",null," ",e.nombre," "),r.a.createElement("h3",null," Nivel: ",e.nivel),r.a.createElement("h3",null," #likes: ",e.likes),r.a.createElement("h5",null,"Tema: ",e.tema),r.a.createElement("h6",null,"Descripcion: ",e.descripcion),r.a.createElement("h1",null,"Codigo de Ejemplo"),r.a.createElement("h2",null,"Codigo correcto"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.codigo_bien}}),r.a.createElement("h2",null,"Codigo correcto"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.codigo_mal}}),r.a.createElement("h1",null,"Correcci\xf3n, comentario o sugerencia:"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Comentario",ref:this.comentario})),r.a.createElement("button",{className:"btn btn-primary",onClick:this.sendComment},"Enviar")):r.a.createElement("div",null)}}]),t}(a.Component)),g=Object(o.d)(k),j=(n(34),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).clickBack=function(){n.props.history.push("/")},n.clickLogin=function(){var e={};e.username=n.usuario.current.value,console.log(e),fetch("auth",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.length>0?(n.props.handleAuthentication(!0,e[0].username),n.clickBack()):alert("Usuario no registrado")}))},n.props.hideFilter(),n.usuario=r.a.createRef(),n.clickLogin=n.clickLogin.bind(Object(N.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("Auth")}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("b",null,"Username")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Usuario",ref:this.usuario})),r.a.createElement("div",{className:"btn btn-primary",onClick:this.clickLogin},"Login"),r.a.createElement("div",{className:"btn btn-primary",onClick:this.clickBack},"Cancelar"))}}]),t}(a.Component)),O=Object(o.d)(j),F=(n(35),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).actualizarFiltros=function(e){for(var t=[],a=!0,r=0;r<e.nivel.length;r++)!0===e.nivel[r].estado&&(a=!1);for(var i=0;i<n.state.tips.length;i++){for(var l=!0,o=0;o<e.nivel.length;o++)a||e.nivel[o].nombre!==n.state.tips[i].nivel||(l=e.nivel[o].estado);""!==e.nombre&&-1===n.state.tips[i].nombre.indexOf(e.nombre)&&(l=!1),""!==e.tema&&-1===n.state.tips[i].tema.indexOf(e.tema)&&(l=!1),n.state.tips[i].likes<e.likes&&(l=!1),l&&t.push(n.state.tips[i])}n.setState({filtros:e,tipsFiltrados:t})},n.hideFilter=function(){n.setState({showFilters:!1})},n.showFilter=function(){n.setState({showFilters:!0})},n.handleAuthentication=function(e,t){n.setState({autenticado:e}),n.setState({username:t})},n.actualizarTips=function(){fetch("/tips").then((function(e){return e.json()})).then((function(e){n.setState({tips:e}),n.actualizarFiltros(n.state.filtros)}))},n.state={tips:[],filtros:[],tipsFiltrados:[],showFilters:!1,autenticado:!1,username:void 0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/tips").then((function(e){return e.json()})).then((function(t){for(var n={nivel:[],nombre:"",likes:0,tema:""},a=0;a<t.length;a++){for(var r=!1,i=0;i<n.nivel.length;i++)n.nivel[i].nombre===t[a].nivel&&(r=!0);r||n.nivel.push({nombre:t[a].nivel,estado:!1})}e.setState({tips:t,filtros:n,tipsFiltrados:t})}))}},{key:"renderNavBar",value:function(){return r.a.createElement(y,{show:this.state.showFilters,filtros:this.state.filtros,actualizarFiltros:this.actualizarFiltros,hideFilter:this.hideFilter,autenticado:this.state.autenticado,username:this.state.username,handleAuthentication:this.handleAuthentication})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.renderNavBar(),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(b,{tips:e.state.tipsFiltrados,showFilter:e.showFilter})}}),r.a.createElement(o.a,{path:"/Auth",render:function(t){return r.a.createElement(O,{hideFilter:e.hideFilter,handleAuthentication:e.handleAuthentication})}}),r.a.createElement(o.a,{path:"/cupitip/:id",render:function(t){return r.a.createElement(g,{tips:e.state.tips,hideFilter:e.hideFilter,actualizarTips:e.actualizarTips})}})))}}]),t}(r.a.Component)),C=Object(s.a)();l.a.render(r.a.createElement(o.b,{history:C},r.a.createElement(F,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.dfe7525a.chunk.js.map